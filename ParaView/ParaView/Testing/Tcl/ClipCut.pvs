    if {[info exists argc]} { 
        set argcm1 [expr $argc - 1]
        for {set i 0} {$i < $argcm1} {incr i} {
            if {[lindex $argv $i] == "-D" && $i < $argcm1} {
		set DataDir [lindex $argv [expr $i + 1]]
            }
        }
    } 

    
set pv(vtkTemp1) [Application GetMainWindow]
set pv(vtkTemp43) [$pv(vtkTemp1) GetMainView]

# To get better coverage, log the actions of this script.
Application StartLog "ClipCutLog.txt"

set pv(vtkTemp98) [$pv(vtkTemp1) CreatePVSource vtkImageMandelbrotSource]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp98)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp98)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp110) [$pv(vtkTemp98) GetPVWidget {Extent}]
$pv(vtkTemp110) SetValue 0 12 0 12 0 10
set pv(vtkTemp129) [$pv(vtkTemp98) GetPVWidget {Size}]
$pv(vtkTemp129) SetValue 1.2 1.2 1.0 1.0
$pv(vtkTemp98) AcceptCallback

set pv(vtkTemp164) [$pv(vtkTemp1) CreatePVSource vtkImageMandelbrotSource]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp164)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp164)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp176) [$pv(vtkTemp164) GetPVWidget {Extent}]
$pv(vtkTemp176) SetValue 13 25 0 12 0 10
set pv(vtkTemp195) [$pv(vtkTemp164) GetPVWidget {Size}]
$pv(vtkTemp195) SetValue 1.2 1.2 1.0 1.0
$pv(vtkTemp164) AcceptCallback
$pv(vtkTemp1) ResetCameraCallback

set pv(vtkTemp207) [$pv(vtkTemp1) CreatePVSource vtkImageMandelbrotSource]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp207)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp207)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp219) [$pv(vtkTemp207) GetPVWidget {Extent}]
$pv(vtkTemp219) SetValue 0 12 13 25 0 10
set pv(vtkTemp238) [$pv(vtkTemp207) GetPVWidget {Size}]
$pv(vtkTemp238) SetValue 1.2 1.2 1.0 1.0
$pv(vtkTemp207) AcceptCallback
$pv(vtkTemp1) ResetCameraCallback

set pv(vtkTemp250) [$pv(vtkTemp1) CreatePVSource vtkImageMandelbrotSource]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp250)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp250)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp262) [$pv(vtkTemp250) GetPVWidget {Extent}]
$pv(vtkTemp262) SetValue 13 25 13 25 0 10
set pv(vtkTemp281) [$pv(vtkTemp250) GetPVWidget {Size}]
$pv(vtkTemp281) SetValue 1.2 1.2 1.0 1.0
$pv(vtkTemp250) AcceptCallback

set pv(vtkTemp294) [$pv(vtkTemp1) ClipPlaneCallback]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp294)
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp295) [$pv(vtkTemp294) GetPVWidget {Plane}]
set pv(vtkTemp303) [$pv(vtkTemp295) GetCenterEntry]
$pv(vtkTemp303) SetValue 0.150 0.650 0.500
set pv(vtkTemp307) [$pv(vtkTemp295) GetNormalEntry]
$pv(vtkTemp307) SetValue 0 0 -1
$pv(vtkTemp294) AcceptCallback

set pv(vtkTemp327) [$pv(vtkTemp1) CreatePVSource vtkDataSetSurfaceFilter]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp327)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp327) AcceptCallback
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp207)
$pv(vtkTemp1) ShowCurrentSourceProperties


set pv(vtkTemp366) [$pv(vtkTemp1) ClipPlaneCallback]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp366)
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp367) [$pv(vtkTemp366) GetPVWidget {Plane}]
set pv(vtkTemp375) [$pv(vtkTemp367) GetCenterEntry]
$pv(vtkTemp375) SetValue -1.150 0.650 0.500
set pv(vtkTemp379) [$pv(vtkTemp367) GetNormalEntry]
$pv(vtkTemp379) SetValue -0.54203 0.35221 -0.76299
set pv(vtkTemp383) [$pv(vtkTemp366) GetPVWidget {Offset}]
$pv(vtkTemp383) SetValue 0.2
$pv(vtkTemp366) AcceptCallback

set pv(vtkTemp395) [$pv(vtkTemp1) CreatePVSource vtkDataSetSurfaceFilter]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp395)
$pv(vtkTemp1) ShowCurrentSourceProperties
$pv(vtkTemp395) AcceptCallback
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp164)
$pv(vtkTemp1) ShowCurrentSourceProperties


set pv(vtkTemp416) [$pv(vtkTemp1) CutPlaneCallback]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp416)
$pv(vtkTemp1) ShowCurrentSourceProperties

set pv(vtkTemp417) [$pv(vtkTemp416) GetPVWidget {Plane}]
set pv(vtkTemp425) [$pv(vtkTemp417) GetCenterEntry]
$pv(vtkTemp425) SetValue 0.150 -0.650 0.500
$pv(vtkTemp416) AcceptCallback
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp98)
$pv(vtkTemp1) ShowCurrentSourceProperties


set pv(vtkTemp446) [$pv(vtkTemp1) CutPlaneCallback]
$pv(vtkTemp1) SetCurrentPVSource $pv(vtkTemp446)
$pv(vtkTemp1) ShowCurrentSourceProperties
set pv(vtkTemp448) [$pv(vtkTemp446) GetPVWidget {Plane}]
set pv(vtkTemp455) [$pv(vtkTemp448) GetCenterEntry]
$pv(vtkTemp455) SetValue -1.1 -0.650 0.500
set pv(vtkTemp459) [$pv(vtkTemp448) GetNormalEntry]
$pv(vtkTemp459) SetValue 0.58440 0.58807 -0.55914
set pv(vtkTemp463) [$pv(vtkTemp446) GetPVWidget {Cut Values}]
$pv(vtkTemp463) RemoveAllValues
$pv(vtkTemp463) AddValue 0.1
$pv(vtkTemp446) AcceptCallback

Application StopLog


# Fix the size of the image.
RenWin1 SetSize 300 300
RenWin1 Render
update

source $DataDir/Utility/rtImage.tcl
pvImageTest $DataDir/Baseline/ClipCut.png 10
   
Application Exit


