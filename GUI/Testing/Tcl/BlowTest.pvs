set pvWindow [$Application GetMainWindow]
set pv(vtkTemp43) [$pvWindow GetMainView]

source [file join [file dirname [info script]] CommandLineOptions.tcl]
ParseCommandLine $pv(vtkTemp43) $argv $argc

$pv(vtkTemp43) SetOrientationAxesVisibility 0
$pv(vtkTemp43) SetRendererBackgroundColor 0 0 0

$pvWindow Open "$DataDir/Data/blow data.vtk"

set pvWarp [$pvWindow CreatePVSource WarpVector]
$pvWarp Reset
$pvWarp AcceptCallback

set warpOutput [$pvWarp GetPVOutput]
$warpOutput SetVisibility 0
$warpOutput SetInterpolateColorsFlag 1

set pvWindow [lindex [vtkPVWindow ListInstances] 0]
$pvWindow SetCurrentPVSourceCallback $pvWarp

set MainView [[$Application GetMainWindow] GetMainView]
$MainView SetCameraState 143.632 4.67034 -39.8384 2 12 4.1578e-15 0.270701 -0.00149368 0.962662

[$pvWarp GetPVWidget {Vectors}] SetValue displacement1
$pvWarp AcceptCallback

for {set i 1} {$i <= 2} {incr i 1} {
	[$pvWarp GetPVWidget {Vectors}] SetValue displacement$i
        $pvWarp AcceptCallback
	update

}

set warpOutput [$pvWarp GetPVOutput]

[$pvWarp GetPVWidget {Vectors}] SetValue displacement1
[$warpOutput GetColorMenu] SetValue "Point thickness1"
$warpOutput ColorByPointField thickness1 1
$pvWarp AcceptCallback

$warpOutput SetVisibility 1

for {set i 8} {$i <= 10} {incr i 1} {
    [$pvWarp GetPVWidget {Vectors}] SetValue displacement$i
    [$warpOutput GetColorMenu] SetValue "Point thickness$i"
    $warpOutput ColorByPointField thickness$i 1
    $pvWarp AcceptCallback
    update

}

source [file join [file dirname [info script]] Compare.tcl]
Compare $Application $argv $argc

$Application Exit
